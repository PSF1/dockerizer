  apache2:
    image: wodby/php-apache:$APACHE_TAG
    container_name: "${PROJECT_NAME}_apache"
    depends_on:
      - php
    environment:
      APACHE_LOG_LEVEL: debug
      APACHE_BACKEND_HOST: php
      APACHE_SERVER_ROOT: /var/www/_html
      # For xdebug when we hold a breakpoint we need the server wait until we
      #release the request. APACHE_FCGI_PROXY_TIMEOUT prevent the "Gateway Timeout"
      APACHE_FCGI_PROXY_TIMEOUT: 600
    volumes:
      - ./:/var/www
    labels:
      - 'traefik.backend=apache'
      - 'traefik.port=80'
      - 'traefik.frontend.rule=Host:${PROJECT_BASE_URL}'
    network_mode: traefik_network

